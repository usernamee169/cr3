'''
HomeDyn14. К-ичные числа. Среди чисел в системе счисления с основанием K (2≤K≤10)
определить сколько имеется чисел из N (1<N<20, N+K<26) разрядов таких, что в их
записи содержится два и более подряд идущих нулей.

Языковая модель: https://chat.deepseek.com
'''


def count_numbers_with_consecutive_zeros(K, N):
    if N < 2:
        return 0

    # dp0[i] — числа длины i, оканчивающиеся на 0 (и начинающиеся не с 0)
    # dp1[i] — числа длины i, оканчивающиеся не на 0 (и начинающиеся не с 0)
    dp0 = [0] * (N + 1)
    dp1 = [0] * (N + 1)

    dp0[1] = 0  # Первая цифра не может быть 0
    dp1[1] = K - 1  # Первая цифра — от 1 до K-1

    for i in range(2, N + 1):
        dp0[i] = dp1[i - 1]  # Добавляем 0 после числа, оканчивающегося не на 0
        dp1[i] = (dp0[i - 1] + dp1[i - 1]) * (K - 1)  # Добавляем любую цифру, кроме 0

    total_valid_numbers = (K ** N) - (K ** (N - 1))  # Всего чисел без ведущих нулей
    valid_without_double_zeros = dp0[N] + dp1[N]  # Числа без двух подряд нулей и без ведущих нулей
    return total_valid_numbers - valid_without_double_zeros

K = 3
N = 4
print(count_numbers_with_consecutive_zeros(K, N))  # Вывод: 15